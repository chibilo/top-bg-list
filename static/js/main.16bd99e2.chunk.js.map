{"version":3,"sources":["Consts.js","components/GameCard.js","components/GameList.js","components/CustomDropDown.js","components/CustomPagination.js","utils/requests.js","context/GameListAction.js","context/GameListReducer.js","context/GameListContext.js","pages/TopGamesPage.js","components/BackToMainButton.js","pages/GamePage.js","pages/NotFound.js","App.js","index.js"],"names":["Hosts","Tesera","title","linkIdField","makeLink","linkId","ratingField","sortField","BGG","info","onClick","Card","Img","src","photoUrl","alt","ImgOverlay","className","numRating","Badge","variant","gameRating","Body","style","zIndex","Title","Text","descriptionShort","links","map","link","idx","Link","as","href","target","data","history","useHistory","push","alias","id","memo","value","items","onChange","val","newValue","text","pageCount","activePage","onChangePage","Pagination","Array","from","keys","num","Item","active","e","page","Number","window","scrollTo","top","behavior","GAMES_API_URL","makeLinks","Object","values","GameListActions","initialState","list","host","limit","isLoading","error","GameListReducer","prevState","action","type","payload","GameListContext","createContext","GameListContextProvider","children","useReducer","games","dispatch","Provider","fetch","LoadGameListAction","sort","axios","get","then","res","fetchGameList","LoadGameListSuccessAction","catch","message","setPage","SetPageAction","TopGamesPage","useContext","gameList","Math","ceil","useEffect","entries","Alert","transition","show","slice","BackToMainButton","props","Button","GamePage","useParams","useState","game","setGame","setLoading","fetchGame","finally","Spinner","animation","title2","width","bggRating","n10Rating","year","playersMin","playersMax","playersAgeMin","playtimeMin","playtimeMax","NotFound","setTimeout","App","path","exact","rootElement","document","getElementById","ReactDOM","render"],"mappings":"gTAAaA,G,MAAQ,CACpBC,OAAQ,CACPC,MAAO,SACPC,YAAa,QACbC,SAAU,SAACC,GAAD,uCAAsCA,IAChDC,YAAa,aACbC,UAAW,cAEZC,IAAK,CACJN,MAAO,gBACPC,YAAa,QACbC,SAAU,SAACC,GAAD,wDAAuDA,IACjEC,YAAa,gBACbC,UAAW,oB,+BCTE,kBAAGE,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAAT,OACd,eAACC,EAAA,EAAD,CAAMD,QAAS,kBAAMA,EAAQD,IAA7B,UACC,cAACE,EAAA,EAAKC,IAAN,CAAUC,IAAKJ,EAAKK,SAAUC,IAAI,eAClC,eAACJ,EAAA,EAAKK,WAAN,WACC,qBAAKC,UAAU,SAAf,SAAyBR,EAAKS,YAC9B,cAACC,EAAA,EAAD,CAAOF,UAAU,aAAaG,QAAQ,UAAUlB,MAAM,SAAtD,SACEO,EAAKY,gBAGR,eAACV,EAAA,EAAKW,KAAN,CAAWC,MAAO,CAAEC,OAAQ,KAA5B,UACC,cAACb,EAAA,EAAKc,MAAN,UAAahB,EAAKP,QAClB,cAACS,EAAA,EAAKe,KAAN,UAAYjB,EAAKkB,mBAChBlB,EAAKmB,MAAMC,KAAI,SAACC,EAAMC,GAAP,OACf,cAACpB,EAAA,EAAKqB,KAAN,CAAqBC,GAAG,IAAIC,KAAMJ,EAAKI,KAAMC,OAAO,SAApD,SACEL,EAAK5B,OADS6B,aCZL,G,MAAA,YAAe,IAAZK,EAAW,EAAXA,KACbC,EAAUC,cACd,OACC,qBAAKrB,UAAU,YAAf,SACEmB,EAAKP,KAAI,SAACpB,GAAD,OACT,cAAC,EAAD,CAECA,KAAMA,EACNC,QAAS,SAACD,GAAD,OAAU4B,EAAQE,KAAR,gBAAsB9B,EAAK+B,UAFzC/B,EAAKgC,WCRAC,G,MAAAA,gBAAK,YAAiC,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACpC,OACC,sBAAK5B,UAAU,kBAAf,UACE0B,EACD,oBAAI1B,UAAU,uBAAd,SACE2B,EAAMf,KAAI,SAACiB,EAAKf,GAAN,aACV,oBAECrB,QAAS,WAAO,IAAD,EACRqC,EAAQ,UAAGD,EAAIH,aAAP,QAAgBG,EAC1BC,IAAaJ,GAAOE,EAASE,IAJnC,mBAOED,EAAIE,YAPN,QAOcF,GANRf,e,QCNIW,G,MAAAA,gBAAK,YAA8C,IAA3CO,EAA0C,EAA1CA,UAAWC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAC7C,OACC,cAACC,EAAA,EAAD,UACEC,MAAMC,KAAKD,MAAMJ,GAAWM,QAAQ1B,KAAI,SAAC2B,EAAKzB,GAAN,OACxC,cAACqB,EAAA,EAAWK,KAAZ,CAECC,OAAQR,IAAeM,EAAM,EAC7B9C,QAAS,SAACiD,GACT,IAAMC,EAAOC,OAAOF,EAAExB,OAAOa,MAAQE,GACrCC,EAAaS,GACbE,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,YANtC,SASET,EAAM,GARFzB,Y,wCCNGmC,EAAgB,8BAEvBC,EAAY,SAAC1D,GAClB,OAAO2D,OAAOC,OAAOrE,GAAO6B,KAAI,YAAuC,IAApC3B,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,YACzC,MAAO,CACND,MAAOA,EACPgC,MAAM9B,EAH8D,EAAfA,UAGtCK,EAAKN,SCTVmE,EACI,iBADJA,EAEY,yBAFZA,EAGU,uBAHVA,EAIF,WCFEC,EAAe,CAC3BC,KAAM,GACNC,KAAM,MACNC,MAAO,GACPd,KAAM,EACNe,WAAW,EACXC,MAAO,MAGKC,EAAkB,WAAuC,IAAtCC,EAAqC,uDAAzBP,EAAcQ,EAAW,uCACpE,OAAQA,EAAOC,MACd,KAAKV,EACJ,OAAO,2BACHQ,GADJ,IAECH,WAAW,EACXF,KAAMM,EAAOE,QAAQR,KACrBC,MAAOK,EAAOE,QAAQP,MACtBF,KAAM,KAER,KAAKF,EACJ,OAAO,2BAAKQ,GAAZ,IAAuBH,WAAW,EAAOH,KAAMO,EAAOE,UACvD,KAAKX,EACJ,OAAO,2BAAKQ,GAAZ,IAAuBH,WAAW,EAAOH,KAAM,GAAII,MAAOG,EAAOE,UAClE,KAAKX,EACJ,OAAO,2BAAKQ,GAAZ,IAAuBlB,KAAMmB,EAAOE,UACrC,QACC,OAAOH,IClBGI,EAAkBC,0BAElBC,EAA0B,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACzC,EAA0BC,qBAAWT,EAAiBN,GAAtD,mBAAOgB,EAAP,KAAcC,EAAd,KAiBA,OACC,cAACN,EAAgBO,SAAjB,CAA0B9C,MAAO,CAAE4C,QAAOC,WAAUE,MAhBvC,SAACjB,EAAMC,GACpBc,EFTgC,SAACf,EAAMC,GAAP,MAAkB,CACnDM,KAAMV,EACNW,QAAS,CAAER,OAAMC,UEOPiB,CAAmBlB,EAAMC,IHFP,SAACD,EAAMC,GAAW,IAAD,EACvCkB,GAAO,UAAA5F,EAAMyE,UAAN,eAAalE,YLEO,aKDjC,OAAOsF,IACLC,IADK,UACE5B,EADF,WAC0B,EAD1B,kBACqCQ,EADrC,qCACuEkB,IAC5EG,MAAK,SAACC,GAAS,IAAD,EACR1F,GAAc,UAAAN,EAAMyE,UAAN,eAAanE,cLDA,aKEjC,OAAO0F,EAAI5D,KAAKP,KAAI,SAACpB,EAAMsB,GAC1B,OAAO,2BACHtB,GADJ,IAECS,UAAWa,EAAM,EACjBV,WAAYZ,EAAKH,GACjBsB,MAAOuC,EAAU1D,WGRpBwF,CAAcxB,EAAMC,GAClBqB,MAAK,SAAC3D,GACNoD,EFPqC,SAACD,GAAD,MAAY,CACpDP,KAAMV,EACNW,QAASM,GEKGW,CAA0B9D,OAEnC+D,OAAM,SAACxC,GFJ4B,IAACiB,EEKpCY,GFLoCZ,EEKHjB,EAAEyC,QFLY,CAClDpB,KAAMV,EACNW,QAASL,SEYmDyB,QAL5C,SAACzC,GAChB4B,EFL2B,SAAC5B,GAAD,MAAW,CACvCoB,KAAMV,EACNW,QAASrB,GEGC0C,CAAc1C,MAIvB,SACEyB,KCrBW,SAASkB,IACvB,MAIIC,qBAAWtB,GAJf,IACCK,MAASd,EADV,EACUA,KAAMC,EADhB,EACgBA,MAAOd,EADvB,EACuBA,KAAMe,EAD7B,EAC6BA,UAAWC,EADxC,EACwCA,MAAa6B,EADrD,EAC+CjC,KAC9CkB,EAFD,EAECA,MACAW,EAHD,EAGCA,QAEKpD,EAAYyD,KAAKC,KAAKjC,EARP,IAiBrB,OARIzB,EAAYW,GACfyC,EAAQ,GAGTO,qBAAU,WACTlB,EAAMjB,EAAMC,KACV,IAGF,sBAAKzD,UAAU,QAAf,UACC,oDACK,IACJ,cAAC,EAAD,CACC0B,MAAO+B,EACP9B,MAAO,CAAC,GAAI,GAAI,GAAI,KACpBC,SAAU,SAAC6B,GAAD,OAAWgB,EAAMjB,EAAMC,MAC/B,IANJ,oIAO0B,IACzB,cAAC,EAAD,CACC/B,MAAO3C,EAAMyE,GAAMvE,MACnB0C,MAAOwB,OAAOyC,QAAQ7G,GAAO6B,KAAI,SAAC4C,GAAD,MAAW,CAC3C9B,MAAO8B,EAAK,GACZzB,KAAMyB,EAAK,GAAGvE,UAEf2C,SAAU,SAAC4B,GAAD,OAAUiB,EAAMjB,EAAMC,SAGjCC,EACA,cAACmC,EAAA,EAAD,CAAOC,YAAY,EAAO9F,UAAU,QAAQ+F,KAAMrC,EAAWvD,QAAQ,OAArE,wBAIAqF,GACC,qCACC,cAAC,EAAD,CACCrE,KAAMqE,EAASQ,MA5CA,IA4COrD,EAAO,GA5Cd,GA4CkCA,KAEjDc,EA9Ce,IA+Cf,cAAC,EAAD,CACCzB,UAAWA,EACXE,aAAckD,EACdnD,WAAYU,OAMhBgB,GAAS,8BAAMA,O,iDCpDJsC,EATU,SAAC,GAA4B,IAA1B7B,EAAyB,EAAzBA,SAAa8B,EAAY,iBAChD9E,EAAUC,cACd,OACC,cAAC8E,EAAA,EAAD,2BAAYD,GAAZ,IAAmBzG,QAAS,kBAAM2B,EAAQE,KAAK,MAA/C,SACE8C,MCDW,SAASgC,IACvB,IAAQ5E,EAAO6E,cAAP7E,GACR,EAAwB8E,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAgCF,oBAAS,GAAzC,mBAAO5C,EAAP,KAAkB+C,EAAlB,KASA,OAPAd,qBAAU,WACTc,GAAW,GNkBY,SAACjF,GACzB,OAAOoD,IAAMC,IAAN,UAAa5B,EAAb,YAA8BzB,IAAMsD,MAAK,SAACC,GAChD,IAAMvF,EAAOuF,EAAI5D,KAAKoF,KACtB,OAAO,2BACH/G,GADJ,IAECmB,MAAOuC,EAAU1D,QMtBlBkH,CAAUlF,GACRsD,KAAK0B,GACLG,SAAQ,kBAAMF,GAAW,QACzB,IAEC/C,EAEF,qBAAK1D,UAAU,YAAf,SACC,cAAC4G,EAAA,EAAD,CAASC,UAAU,SAAS1G,QAAQ,gBAMtC,sBAAKH,UAAU,gCAAf,UACEuG,EACA,sBAAKvG,UAAU,6FAAf,UACC,oBAAIA,UAAU,gBAAd,SAA8BuG,EAAKtH,QAClCsH,EAAKO,QAAU,oBAAI9G,UAAU,mBAAd,SAAkCuG,EAAKO,SACvD,sBAAK9G,UAAU,wDAAf,UACC,qBAAKJ,IAAK2G,EAAK1G,SAAUC,IAAI,aAAaiH,MAAM,UAChD,sBAAK/G,UAAU,eAAf,UACC,iFAAiBuG,EAAKS,aACtB,oFAAoBT,EAAKU,aACzB,0FAAgBV,EAAKW,QACrB,uEACUX,EAAKY,WADf,MAC8BZ,EAAKa,cAEnC,0FAAgBb,EAAKc,cAArB,yBACA,sGACgBd,EAAKe,YADrB,MACqCf,EAAKgB,YAD1C,+BAKF,qBAAKvH,UAAU,iBAAf,SAAiCuG,EAAK7F,mBACtC,qBAAKV,UAAU,cAAf,SACEuG,EAAK5F,MAAMC,KAAI,SAACC,GAAD,OACf,mBAAoBb,UAAU,MAAMiB,KAAMJ,EAAKI,KAAMC,OAAO,SAA5D,SACEL,EAAK5B,OADC4B,EAAK5B,eAOhB,mJAED,cAAC,EAAD,CAAkBkB,QAAQ,oBAA1B,kCCzDI,SAASqH,IACf,IAAIpG,EAAUC,cAId,OAHAsE,qBAAU,WACT8B,YAAW,kBAAMrG,EAAQE,KAAK,OAAM,OAClC,IAEF,8BACC,+ECFY,SAASoG,IACvB,OACC,cAAC,EAAD,UACC,cAAC,IAAD,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOC,KAAK,YAAZ,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOA,KAAK,IAAIC,OAAK,EAArB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,KAAK,IAAZ,SACC,cAACH,EAAD,aChBN,IAAMK,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACR,cAAC,aAAD,UACC,cAACP,EAAD,MAEDG,K","file":"static/js/main.16bd99e2.chunk.js","sourcesContent":["export const Hosts = {\n\tTesera: {\n\t\ttitle: \"Tesera\",\n\t\tlinkIdField: \"alias\",\n\t\tmakeLink: (linkId) => `https://tesera.ru/game/${linkId}`,\n\t\tratingField: \"ratingUser\",\n\t\tsortField: \"-ratingn10\",\n\t},\n\tBGG: {\n\t\ttitle: \"BoardGameGeek\",\n\t\tlinkIdField: \"bggId\",\n\t\tmakeLink: (linkId) => `https://www.boardgamegeek.com/boardgame/${linkId}`,\n\t\tratingField: \"bggGeekRating\",\n\t\tsortField: \"-ratinggeekbgg\",\n\t},\n};\n\nexport const DEFAULT_SORT_FIELD = \"-ratingn10\";\nexport const DEFAULT_RATING_FIELD = \"ratingUser\";\n","import React from \"react\";\nimport { Card, Badge } from \"react-bootstrap\";\nimport \"./GameCard.css\";\n\nexport default ({ info, onClick }) => (\n\t<Card onClick={() => onClick(info)}>\n\t\t<Card.Img src={info.photoUrl} alt=\"game image\" />\n\t\t<Card.ImgOverlay>\n\t\t\t<div className=\"rating\">{info.numRating}</div>\n\t\t\t<Badge className=\"pull-right\" variant=\"success\" title=\"rating\">\n\t\t\t\t{info.gameRating}\n\t\t\t</Badge>\n\t\t</Card.ImgOverlay>\n\t\t<Card.Body style={{ zIndex: 1000 }}>\n\t\t\t<Card.Title>{info.title}</Card.Title>\n\t\t\t<Card.Text>{info.descriptionShort}</Card.Text>\n\t\t\t{info.links.map((link, idx) => (\n\t\t\t\t<Card.Link key={idx} as=\"a\" href={link.href} target=\"_blank\">\n\t\t\t\t\t{link.title}\n\t\t\t\t</Card.Link>\n\t\t\t))}\n\t\t</Card.Body>\n\t</Card>\n);\n","import React from \"react\";\nimport GameCard from \"./GameCard\";\nimport \"./GameList.css\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default ({ data }) => {\n\tlet history = useHistory();\n\treturn (\n\t\t<div className=\"game-list\">\n\t\t\t{data.map((info) => (\n\t\t\t\t<GameCard\n\t\t\t\t\tkey={info.id}\n\t\t\t\t\tinfo={info}\n\t\t\t\t\tonClick={(info) => history.push(`/game/${info.alias}`)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n","import React, { memo } from \"react\";\nimport \"./CustomDropDown.css\";\n\nexport default memo(({ value, items, onChange }) => {\n\treturn (\n\t\t<div className=\"custom-dropdown\">\n\t\t\t{value}\n\t\t\t<ul className=\"custom-dropdown-menu\">\n\t\t\t\t{items.map((val, idx) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tconst newValue = val.value ?? val;\n\t\t\t\t\t\t\tif (newValue !== value) onChange(newValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{val.text ?? val}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n});\n","import { Pagination } from \"react-bootstrap\";\nimport React, { memo } from \"react\";\nimport \"./CustomPagination.css\";\n\nexport default memo(({ pageCount, activePage, onChangePage }) => {\n\treturn (\n\t\t<Pagination>\n\t\t\t{Array.from(Array(pageCount).keys()).map((num, idx) => (\n\t\t\t\t<Pagination.Item\n\t\t\t\t\tkey={idx}\n\t\t\t\t\tactive={activePage === num + 1}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tconst page = Number(e.target.text || activePage);\n\t\t\t\t\t\tonChangePage(page);\n\t\t\t\t\t\twindow.scrollTo({ top: 0, behavior: \"smooth\" });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{num + 1}\n\t\t\t\t</Pagination.Item>\n\t\t\t))}\n\t\t</Pagination>\n\t);\n});\n","import { DEFAULT_RATING_FIELD, DEFAULT_SORT_FIELD, Hosts } from \"../Consts\";\nimport axios from \"axios\";\n\nexport const GAMES_API_URL = \"https://api.tesera.ru/games\";\n\nconst makeLinks = (info) => {\n\treturn Object.values(Hosts).map(({ title, linkIdField, makeLink }) => {\n\t\treturn {\n\t\t\ttitle: title,\n\t\t\thref: makeLink(info[linkIdField]),\n\t\t};\n\t});\n};\n\nexport const fetchGameList = (host, limit) => {\n\tconst sort = Hosts[host]?.sortField || DEFAULT_SORT_FIELD;\n\treturn axios\n\t\t.get(`${GAMES_API_URL}?offset=${0}&limit=${limit}&WithAdditions=false&sort=${sort}`)\n\t\t.then((res) => {\n\t\t\tconst ratingField = Hosts[host]?.ratingField || DEFAULT_RATING_FIELD;\n\t\t\treturn res.data.map((info, idx) => {\n\t\t\t\treturn {\n\t\t\t\t\t...info,\n\t\t\t\t\tnumRating: idx + 1,\n\t\t\t\t\tgameRating: info[ratingField],\n\t\t\t\t\tlinks: makeLinks(info),\n\t\t\t\t};\n\t\t\t});\n\t\t});\n};\n\nexport const fetchGame = (id) => {\n\treturn axios.get(`${GAMES_API_URL}/${id}`).then((res) => {\n\t\tconst info = res.data.game;\n\t\treturn {\n\t\t\t...info,\n\t\t\tlinks: makeLinks(info),\n\t\t};\n\t});\n};\n","export const GameListActions = {\n\tLOAD_GAME_LIST: \"LOAD_GAME_LIST\",\n\tLOAD_GAME_LIST_SUCCESS: \"LOAD_GAME_LIST_SUCCESS\",\n\tLOAD_GAME_LIST_ERROR: \"LOAD_GAME_LIST_ERROR\",\n\tSET_PAGE: \"SET_PAGE\",\n};\n\nexport const LoadGameListAction = (host, limit) => ({\n\ttype: GameListActions.LOAD_GAME_LIST,\n\tpayload: { host, limit },\n});\n\nexport const LoadGameListSuccessAction = (games) => ({\n\ttype: GameListActions.LOAD_GAME_LIST_SUCCESS,\n\tpayload: games,\n});\n\nexport const LoadGameListErrorAction = (error) => ({\n\ttype: GameListActions.LOAD_GAME_LIST_SUCCESS,\n\tpayload: error,\n});\n\nexport const SetPageAction = (page) => ({\n\ttype: GameListActions.SET_PAGE,\n\tpayload: page,\n});\n","import { GameListActions } from \"./GameListAction\";\n\nexport const initialState = {\n\tlist: [],\n\thost: \"BGG\",\n\tlimit: 10,\n\tpage: 1,\n\tisLoading: false,\n\terror: null,\n};\n\nexport const GameListReducer = (prevState = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase GameListActions.LOAD_GAME_LIST:\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tisLoading: true,\n\t\t\t\thost: action.payload.host,\n\t\t\t\tlimit: action.payload.limit,\n\t\t\t\tlist: [],\n\t\t\t};\n\t\tcase GameListActions.LOAD_GAME_LIST_SUCCESS:\n\t\t\treturn { ...prevState, isLoading: false, list: action.payload };\n\t\tcase GameListActions.LOAD_GAME_LIST_ERROR:\n\t\t\treturn { ...prevState, isLoading: false, list: [], error: action.payload };\n\t\tcase GameListActions.SET_PAGE:\n\t\t\treturn { ...prevState, page: action.payload };\n\t\tdefault:\n\t\t\treturn prevState;\n\t}\n};\n","import { createContext, useReducer } from \"react\";\nimport { fetchGameList } from \"../utils/requests\";\nimport { GameListReducer, initialState } from \"./GameListReducer\";\nimport {\n\tLoadGameListAction,\n\tLoadGameListSuccessAction,\n\tLoadGameListErrorAction,\n\tSetPageAction,\n} from \"./GameListAction\";\n\nexport const GameListContext = createContext();\n\nexport const GameListContextProvider = ({ children }) => {\n\tconst [games, dispatch] = useReducer(GameListReducer, initialState);\n\n\tconst fetch = (host, limit) => {\n\t\tdispatch(LoadGameListAction(host, limit));\n\t\tfetchGameList(host, limit)\n\t\t\t.then((data) => {\n\t\t\t\tdispatch(LoadGameListSuccessAction(data));\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tdispatch(LoadGameListErrorAction(e.message));\n\t\t\t});\n\t};\n\n\tconst setPage = (page) => {\n\t\tdispatch(SetPageAction(page));\n\t};\n\n\treturn (\n\t\t<GameListContext.Provider value={{ games, dispatch, fetch, setPage }}>\n\t\t\t{children}\n\t\t</GameListContext.Provider>\n\t);\n};\n","import React, { useContext, useEffect } from \"react\";\nimport \"./TopGamesPage.css\";\nimport { Hosts } from \"../Consts\";\nimport GameList from \"../components/GameList\";\nimport CustomDropDown from \"../components/CustomDropDown\";\nimport CustomPagination from \"../components/CustomPagination\";\nimport { Alert } from \"react-bootstrap\";\nimport { GameListContext } from \"../context/GameListContext\";\n\nconst CARD_PER_PAGE = 10;\n\nexport default function TopGamesPage() {\n\tconst {\n\t\tgames: { host, limit, page, isLoading, error, list: gameList },\n\t\tfetch,\n\t\tsetPage,\n\t} = useContext(GameListContext);\n\tconst pageCount = Math.ceil(limit / CARD_PER_PAGE);\n\tif (pageCount < page) {\n\t\tsetPage(1);\n\t}\n\n\tuseEffect(() => {\n\t\tfetch(host, limit);\n\t}, []);\n\n\treturn (\n\t\t<div className=\"games\">\n\t\t\t<h1>\n\t\t\t\tТоп{\" \"}\n\t\t\t\t<CustomDropDown\n\t\t\t\t\tvalue={limit}\n\t\t\t\t\titems={[10, 25, 50, 100]}\n\t\t\t\t\tonChange={(limit) => fetch(host, limit)}\n\t\t\t\t/>{\" \"}\n\t\t\t\tНастольных Игр по версии{\" \"}\n\t\t\t\t<CustomDropDown\n\t\t\t\t\tvalue={Hosts[host].title}\n\t\t\t\t\titems={Object.entries(Hosts).map((host) => ({\n\t\t\t\t\t\tvalue: host[0],\n\t\t\t\t\t\ttext: host[1].title,\n\t\t\t\t\t}))}\n\t\t\t\t\tonChange={(host) => fetch(host, limit)}\n\t\t\t\t/>\n\t\t\t</h1>\n\t\t\t{isLoading ? (\n\t\t\t\t<Alert transition={false} className=\"alert\" show={isLoading} variant=\"info\">\n\t\t\t\t\tLoading...\n\t\t\t\t</Alert>\n\t\t\t) : (\n\t\t\t\tgameList && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<GameList\n\t\t\t\t\t\t\tdata={gameList.slice((page - 1) * CARD_PER_PAGE, page * CARD_PER_PAGE)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{limit > CARD_PER_PAGE && (\n\t\t\t\t\t\t\t<CustomPagination\n\t\t\t\t\t\t\t\tpageCount={pageCount}\n\t\t\t\t\t\t\t\tonChangePage={setPage}\n\t\t\t\t\t\t\t\tactivePage={page}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t)}\n\t\t\t{error && <div>{error}</div>}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\n\nconst BackToMainButton = ({ children, ...props }) => {\n\tlet history = useHistory();\n\treturn (\n\t\t<Button {...props} onClick={() => history.push(\"/\")}>\n\t\t\t{children}\n\t\t</Button>\n\t);\n};\n\nexport default BackToMainButton;\n","import \"./GamePage.css\";\nimport { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { fetchGame } from \"../utils/requests\";\nimport { Spinner } from \"react-bootstrap\";\nimport BackToMainButton from \"../components/BackToMainButton\";\n\nexport default function GamePage() {\n\tconst { id } = useParams();\n\tconst [game, setGame] = useState(null);\n\tconst [isLoading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tfetchGame(id)\n\t\t\t.then(setGame)\n\t\t\t.finally(() => setLoading(false));\n\t}, []);\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className=\"game-page\">\n\t\t\t\t<Spinner animation=\"border\" variant=\"secondary\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"game-page m-2 overflow-hidden\">\n\t\t\t{game ? (\n\t\t\t\t<div className=\"game d-flex flex-column align-items-center justify-content-center px-4 py-2 m-3 shadow-sm \">\n\t\t\t\t\t<h1 className=\"text-center\t\">{game.title}</h1>\n\t\t\t\t\t{game.title2 && <h3 className=\"text-center mt-2\">{game.title2}</h3>}\n\t\t\t\t\t<div className=\"params d-flex align-items-start align-self-start mt-3\">\n\t\t\t\t\t\t<img src={game.photoUrl} alt=\"game image\" width=\"300px\" />\n\t\t\t\t\t\t<div className=\"details ml-3\">\n\t\t\t\t\t\t\t<p>Рейтинг BGG: {game.bggRating}</p>\n\t\t\t\t\t\t\t<p>Рейтинг Tesera: {game.n10Rating}</p>\n\t\t\t\t\t\t\t<p>Год выхода: {game.year}</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tИгроки: {game.playersMin} - {game.playersMax}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>Возраст: от {game.playersAgeMin} лет</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tВремя партии: {game.playtimeMin} - {game.playtimeMax} мин\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"desc pt-2 mt-3\">{game.descriptionShort}</div>\n\t\t\t\t\t<div className=\"d-flex py-2\">\n\t\t\t\t\t\t{game.links.map((link) => (\n\t\t\t\t\t\t\t<a key={link.title} className=\"p-2\" href={link.href} target=\"_blank\">\n\t\t\t\t\t\t\t\t{link.title}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>Такой игры не найдено.</div>\n\t\t\t)}\n\t\t\t<BackToMainButton variant=\"outline-secondary\">Back to Game List</BackToMainButton>\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport function NotFound() {\n\tlet history = useHistory();\n\tuseEffect(() => {\n\t\tsetTimeout(() => history.push(\"/\"), 2000);\n\t}, []);\n\treturn (\n\t\t<div>\n\t\t\t<h3>Page not found. Redirecting to main page...</h3>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport \"./styles.css\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport TopGamesPage from \"./pages/TopGamesPage\";\nimport GamePage from \"./pages/GamePage\";\nimport { GameListContextProvider } from \"./context/GameListContext\";\nimport { NotFound } from \"./pages/NotFound\";\n\nexport default function App() {\n\treturn (\n\t\t<GameListContextProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/game/:id\">\n\t\t\t\t\t\t<GamePage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t<TopGamesPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t<NotFound />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</BrowserRouter>\n\t\t</GameListContextProvider>\n\t);\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n\t<StrictMode>\n\t\t<App />\n\t</StrictMode>,\n\trootElement\n);\n"],"sourceRoot":""}